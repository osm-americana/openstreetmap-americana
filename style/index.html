<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Display a map</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <script src="https://unpkg.com/maplibre-gl@1.14.0/dist/maplibre-gl.js"></script>
    <link
      href="https://unpkg.com/maplibre-gl@1.14.0/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
      #map-tiler-logo {
        position: absolute;
        bottom: 10px;
        left: 10px;
        z-index: 100;
      }
    </style>

    <!-- This file needs to be modified with your MapTiler Cloud key -->
    <script type="text/javascript" src="key.js"></script>

    <script type="text/javascript" src="constants/color.js"></script>
    <script type="text/javascript" src="constants/line.js"></script>

    <script type="text/javascript" src="js/util.js"></script>

    <script type="text/javascript" src="layer/background.js"></script>
    <script type="text/javascript" src="layer/water.js"></script>
    <script type="text/javascript" src="layer/road_casing.js"></script>
    <script type="text/javascript" src="layer/road.js"></script>
    <script type="text/javascript" src="layer/bridge.js"></script>
    <script type="text/javascript" src="layer/tunnel.js"></script>
    <script type="text/javascript" src="layer/highway_shield.js"></script>
    <script type="text/javascript" src="layer/oneway.js"></script>
    <script type="text/javascript" src="layer/place.js"></script>
    <script type="text/javascript" src="layer/boundary.js"></script>

    <script type="text/javascript" src="layers.js"></script>
  </head>

  <body>
    <div id="map"></div>
    <a id="map-tiler-logo" href="https://www.maptiler.com/"
      ><img
        src="https://api.maptiler.com/resources/logo.svg"
        alt="MapTiler logo"
    /></a>
    <a href="https://github.com/ZeLonewolf/openstreetmap-americana/"
      ><img
        loading="lazy"
        width="149"
        height="149"
        src="https://github.blog/wp-content/uploads/2008/12/forkme_right_green_007200.png?resize=149%2C149"
        class="attachment-full size-full"
        alt="Fork me on GitHub"
        data-recalc-dims="1"
        style="position: absolute; top: 0; right: 0; border: 0; z-index: 100"
    /></a>
    <script>
      var getUrl = window.location;
      var baseUrl = getUrl.protocol + "//" + getUrl.host + getUrl.pathname;

      var style = {
        id: "streets",
        name: "Americana",
        zoom: 1,
        pitch: 0,
        center: [0, 0],
        glyphs: "https://fonts.openmaptiles.org/{fontstack}/{range}.pbf",
        layers: americanaLayers,
        sprite: new URL("sprites/sprite", baseUrl).href,
        bearing: 0,
        sources: {
          openmaptiles: {
            url:
              "https://api.maptiler.com/tiles/v3/tiles.json?key=" + mapTilerKey,
            type: "vector",
          },
        },
        version: 8,
        metadata: {
          "mapbox:type": "template",
          "maptiler:copyright":
            "This style was generated on MapTiler Cloud. Usage outside of MapTiler Cloud requires valid OpenMapTiles Production Package: https://openmaptiles.com/production-package/ -- please contact us.",
          "openmaptiles:version": "3.x",
        },
      };

      var map = new maplibregl.Map({
        container: "map", // container id
        hash: true,
        antialias: true,
        style: style,
        center: [-74.5, 40], // starting position [lng, lat]
        zoom: 8, // starting zoom
        attributionControl: false,
      });
      map.addControl(
        new maplibregl.AttributionControl({
          customAttribution:
            '<a href="https://openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',
        })
      );
    </script>
  </body>
</html>
